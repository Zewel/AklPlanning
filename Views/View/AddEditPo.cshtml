<div class="container-fluid">
    <div class="row">
        <!-- left column -->
        <div class="col-md-12">
            <div class="card card-info" style="background-color:yellowgreen">
                <div class="card-header" style="color: aqua; background-color: #327c10 ">

                    <div class="row">
                        <div class="col-md-3">
                            <h3 class="card-title"><span class='fas fa-tshirt' style='font-size:25px;color:darkmagenta'></span> Style-Po Add & Edit</h3>

                        </div>
                        <div class="col-md-4">
                            <div class="row">
                                <div class="col-md-10">
                                    <input type="text" class="search form-control float-right" placeholder="Search Style..." id="styleId" /> @*value="KM225419 & 789-6557"*@
                                </div>
                                <div class="col-md-2">
                                    <button class="button  btn-success" data-toggle="tooltip" data-placement="top" title="Search Style" style="border-radius:50%; margin-top:10px" onclick="FindStyleList()"><span class="fa fa-search"></span></button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card-body" id="workCalanderDiv">
                    @*<label for="myBrowser">Choose a browser from this list:</label>
                        <input list="browsers" id="myBrowser" name="myBrowser" />
                        <datalist id="browsers">
                            <option value="Chrome"/>
                            <option value="Firefox"/>
                            <option value="Internet Explorer"/>
                            <option value="Opera"/>
                            <option value="Safari"/>
                            <option value="Microsoft Edge"/>
                        </datalist>*@

                    <div class="row" id="styleInfo">

                    </div>




                </div>
            </div>
        </div>

    </div>

    <div class="modal fadeInUp" id="viewStyle">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header card-header" style="background-color:dodgerblue">
                    <h5 class="modal-title" id="headderId">Unlock Style</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="row">


                        <div class="col-md-3">
                            <div class="form-group">
                                <label>Total Order Qty<span style="color:red"> *</span></label>
                                <input type="number" class="form-control" id="tOrderQty" rows="1" value="0" placeholder="Enter Po Qty ..." />
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-group">
                                <label>Remarks<span style="color:red"> *</span></label>
                                <input type="text" class="form-control" id="unlockremarks" rows="1" placeholder="Unlock Remarks ..." />
                            </div>

                        </div>
                    </div>
                </div>
                <div class="modal-footer justify-content-between">
                    <button type="button" class="btn btn-outline-dark" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-outline-dark float-right" onclick="SaveUnlock()">Save </button>

                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>

    <div class="modal fadeInUp" id="SearchStyle">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
                <div class="modal-header" style="background-color:aliceblue">
                    <h4 class="modal-title">Style List</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="col-md-12 table ">
                        <table class="table  table-bordered table-head-fixed text-nowrap table-hover">
                            <thead class="fixedHeader-floating">
                                <tr>
                                    <th>Style Name</th>
                                    <th>Buyer</th>
                                    <th>Action</th>


                                </tr>
                            </thead>
                            <tbody id="StyleListDiv">
                            </tbody>

                        </table>
                    </div>
                </div>
                <div class="modal-footer justify-content-between">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                   
                </div>
            </div>

        </div>

    </div>



    <div class="modal fadeInUp" id="PoAddEdit">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header" style="background-color:aliceblue">
                    <h4 class="modal-title">Style List</h4>
                    <button type="button" class="close"onclick="CloseModal()" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    
                        <div class="row">
                            <div class="col-md-3">
                                <div class="form-group" id="divdllTaskType">
                                    <label for="dllCoordinator">Po No<span style="color:red"> *</span></label>
                                    <input type="text" class="form-control" id="poNo" rows="1" placeholder="Enter Po No" />
                                    <input type="hidden" class="poCode" id="poCodId" />

                                </div>
                            </div>

                            <div class="col-md-3">
                                <div class="form-group" id="divdllTaskType">
                                    <label for="dllTaskType">Color<span style="color:red"> *</span></label>
                                    <input type="text" class="form-control" id="color" rows="1" placeholder="Enter Color ..." />
                                </div>

                            </div>
                            <div class="col-md-3">
                                <div class="form-group">
                                    <label>Po Qty<span style="color:red"> *</span></label>
                                    <input type="number" class="form-control" id="poQty" rows="1" placeholder="Enter Po Qty ..." />
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="form-group">
                                    <label>Initial Planning Date<span style="color:red"> *</span></label>
                                    <input type="date" dateformat="d M y" class="form-control" id="initialPlannigDate" placeholder="Enter ..." />
                                </div>

                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-3">
                                <div class="form-group" id="divdllTaskType">
                                    <label for="dllCoordinator">Book Ex-fty<span style="color:red"> *</span></label>
                                    <input type="date" class="form-control" id="bookExfty" placeholder="Enter ..." />
                                </div>
                            </div>

                            <div class="col-md-3">
                                <div class="form-group" id="divdllTaskType">
                                    <label for="dllTaskType">Po Ex-fty<span style="color:red"> *</span></label>
                                    <input type="date" class="form-control" id="poExfty" placeholder="Enter ..." />
                                </div>

                            </div>
                            <div class="col-md-3">
                                <div class="form-group">
                                    <label>Rev. Ex-fty<span style="color:red"> *</span></label>
                                    <input type="date" dateformat="d M y" class="form-control" id="revExfty" placeholder="Enter ..." />
                                </div>

                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-3">
                                <div class="form-group" id="divdllTaskType">
                                    <label for="dllCoordinator">Remarks<span style="color:red"> *</span></label>
                                    <input type="text" class="form-control" id="remarks" row="2" placeholder="Enter ..." />
                                </div>
                            </div>

                            <div class="col-md-3">
                                <div class="form-group" id="divdllTaskType">
                                    <label for="dllTaskType">Cancel Qty<span style="color:red"> *</span></label>
                                    <input type="number" class="form-control" id="CanQty" placeholder="Enter ..." />
                                </div>

                            </div>
                            <div class="col-md-3">
                                <div class="form-group">
                                    <label>Cancel Remarks<span style="color:red"> *</span></label>
                                    <input type="text" class="form-control" id="CanRemarks" placeholder="Enter ..." />
                                </div>

                            </div>
                        </div>
                
                   
                </div>
                <div class="modal-footer justify-content-between">
                    <button type="button" class="btn btn-default" onclick="CloseModal()">Close</button>
                    <button type="submit" onclick="SavePo()" class="float-right btn btn-success" data-toggle="tooltip" data-placement="top" title="Add Po"><span class="fa fa-save"></span></button>

                </div>
            </div>

        </div>

    </div>
</div>




<!--<div class="modal fadeInUp" id="SearchStyle">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header card-header" style="background-color:dodgerblue">
                <h5 class="modal-title" id="headderId">Style List</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="col-md-12 table ">
                    <table class="table  table-bordered table-head-fixed text-nowrap table-hover">
                        <thead class="fixedHeader-floating">
                            <tr>
                                <th>Style Name</th>
                                <th>Buyer</th>
                                <th>Action</th>


                            </tr>
                        </thead>
                        <tbody id="StyleListDiv">
                        </tbody>

                    </table>
                </div>

            </div>
            <div class="modal-footer justify-content-between">
                <button type="button" class="btn btn-outline-dark" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-outline-dark float-right" onclick="SaveUnlock()">Save </button>

            </div>
        </div>-->
        <!-- /.modal-content -->
    <!--</div>-->
    <!-- /.modal-dialog -->
<!--</div>-->

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}


<script>


        $(function () {
            $("#styleId").autocomplete({

                source: function (request, response) {
                    $.ajax({
                        url: apiHeader + "api/Common/GetStlNo/" + request.term,
                        dataType: "json",
                        success: function (data) {
                            var stl = [];
                            $.each(data, function (i, item) {
                                stl.push(item.StlDesc);
                            });
                            response(stl);

                        }
                    });
                },
                minLength: 3,

            });

            $('#PoAddEdit').on('hidden', function () {
                debugger;
                clear();
            });
         });
    function GetGauge(elamentName) {

        var yearId = parseInt($('#dllCurrentYear').val());
        $.ajax({
            url: apiHeader + 'api/Common/GetAllMachineQty/' + yearId,
            type: "GET",
            dataType: "json",
            async: false,
            success: function (result) {

                allYears = result
                const key = 'GaugeId';
                const FactoryResult = [...new Map(result.map(item =>
                    [item[key], item])).values()].sort();
                if (result.length > 0) {
                    $('#' + elamentName + '').empty();
                    $('#' + elamentName + '').append("<option value=''>--Select Gauge--</option>");
                    for (var i = 0; i < FactoryResult.length; i++) {

                        $('#' + elamentName + '').append($("<option></option>").val(FactoryResult[i].GaugeId).html(FactoryResult[i].GaugeDesc));
                    }
                }
            },
            error: function (errormessage) {
                alert(errormessage.responseText);
            }
        });

    }
    function GetBrand(elamentName) {

        var yearId = parseInt($('#dllCurrentYear').val());
        $.ajax({
            url: apiHeader + 'api/Common/GetAllMachineQty/' + yearId,
            type: "GET",
            dataType: "json",
            async: false,
            success: function (result) {

                allYears = result
                const key = 'BrandId';
                const FactoryResult = [...new Map(result.map(item =>
                    [item[key], item])).values()].sort();
                if (result.length > 0) {
                    $('#' + elamentName + '').empty();
                    $('#' + elamentName + '').append("<option value=''>--Select Brand--</option>");
                    for (var i = 0; i < FactoryResult.length; i++) {

                        $('#' + elamentName + '').append($("<option></option>").val(FactoryResult[i].BrandId).html(FactoryResult[i].McnType));
                    }
                }
            },
            error: function (errormessage) {
                alert(errormessage.responseText);
            }
        });

    }
    function GetKnOperation(elamentName) {

        var yearId = parseInt($('#dllCurrentYear').val());
        $.ajax({
            url: apiHeader + 'api/Common/GetKnittingOperation',
            type: "GET",
            dataType: "json",
            async: false,
            success: function (result) {


                if (result.length > 0) {
                    $('#' + elamentName + '').empty();
                    $('#' + elamentName + '').append("<option value=''>--Select Knitting Operation--</option>");
                    for (var i = 0; i < result.length; i++) {

                        $('#' + elamentName + '').append($("<option></option>").val(result[i].KntOperationId).html(result[i].KntOperationName));
                    }
                }
            },
            error: function (errormessage) {
                alert(errormessage.responseText);
            }
        });

    }
    function StyleInfo(element) {
        debugger;
        var styleNo = element;

             if (styleNo != "") {
                 var urlpath = '@Url.Action("StyleForPoAddEdit", "PartialView")';
                 $.ajax({
                     url: urlpath,
                     dataType: 'html',
                     type: "Get",
                     data: { styleNo: styleNo },
                     async: false,
                     success: function (data) {


                         $("#styleInfo").html("");
                         $("#styleInfo").html(data);
                         //$(".details-control").trigger("click");

                         GetBrand('dllMcnType');
                         GetGauge('dllGauge');
                     },
                     complete: function () {
                         $("#styleReName").hide();
                         $("#stlSaveBtn").hide();
                         $("#stylePoQtyEdit").hide();
                         $("#qtySaveBtn").hide();
                           // window.location.href = '@Url.Action("CreateSlot", "View")';
                         $('#SearchStyle').modal('toggle');
                       },
                       error: function (errormessage) {
                           alert(errormessage.responseText);
                       }



                 });
             } else {
                 toastr.warning('Please Give the Style Name');
             }


        }
        function EditRequest() {
            $("#stlDesLbl").hide();
            $("#styleReName").show();
            $("#stlSaveBtn").show();
            $("#stlEditBtn").hide();
    }

        function PoQtyEditRequest() {
            $("#pottlLavel").hide();
            $("#stylePoQtyEdit").show();
            $("#qtySaveBtn").show();
            $("#qtyeditBtn").hide();
    }
    function SaveStlRequest() {
        debugger;
        var stlCode = parseInt($('#styleCode').val());
        var stlName = $('#styleReName').val();

        if (stlName != "") {

                 $.ajax({
                     url: apiHeader + 'api/AddEditPo/StyleReName/' + stlCode + '/' + stlName ,
                     dataType: "json",
                     type: "POST",
                     data: {},
                     async: false,
                     success: function (data) {

                         if (parseInt(data[0].KeyValue)>0) {
                             toastr.success('the Style Name Change Successfully');
                         } else {
                             toastr.error('Please Give the another Style Name');
                         }

                     },
                     complete: function () {
                         $("#styleReName").hide();
                         $("#stlSaveBtn").hide();
                         $("#stlEditBtn").show();
                         $("#stlDesLbl").show();
                         $("#stlDesLbl").text(stlName);
                           // window.location.href = '@Url.Action("CreateSlot", "View")';

                       },
                       error: function (errormessage) {
                           alert(errormessage.responseText);
                       }



                 });
             } else {
                 toastr.warning('Please Give the Style Name');
             }

    }
    function SaveStlQtyRequest() {
        debugger;
        var stlCode = parseInt($('#styleCode').val());
        var editQty = parseInt($('#stylePoQtyEdit').val());

        if (editQty != 0) {

                 $.ajax({
                     url: apiHeader + 'api/AddEditPo/StyleReQty/' + stlCode + '/' + editQty ,
                     dataType: "json",
                     type: "POST",
                     data: {},
                     async: false,
                     success: function (data) {

                         if (data == true) {
                             toastr.success('Change Qty Successfully');
                         } else {
                             toastr.error('Please Give the another Style Name');
                         }

                     },
                     complete: function () {
                         $("#pottlLavel").show();
                         $("#stylePoQtyEdit").hide();
                         $("#qtySaveBtn").hide();
                         $("#qtyeditBtn").show();
                         $("#pottlLavel").text(editQty);
                           // window.location.href = '@Url.Action("CreateSlot", "View")';

                       },
                       error: function (errormessage) {
                           alert(errormessage.responseText);
                       }



                 });
             } else {
                 toastr.warning('Please Give the Style Name');
             }

    }
        function SavePo() {
            debugger;
            var poCodeId = parseInt($('#poCodId').val());
            var stlNo = parseInt($('#styleCode').val());
            var poNo = $('#poNo').val().trim();
            var color = $('#color').val();
            var poQty = parseInt($('#poQty').val());
            var bookExfty = $('#bookExfty').val();
            var poExfty = $('#poExfty').val();
            var revExfty = $('#revExfty').val();
            var remarks = $('#remarks').val();
            var CanQty = $('#CanQty').val();
            var CanRemarks = $('#CanRemarks').val();
            var iniPlnDate = $('#initialPlannigDate').val();
            debugger;
            if (poNo == "" || isNaN(poQty) || bookExfty == "" || poExfty == "" || iniPlnDate =="") {
                toastr.warning('Please Provide All Input.');
                return false;
            }
            else {
                if (isNaN(poCodeId)) {
                    var obj = {
                        stylecode: stlNo,
                        PONo: poNo,
                        POColor: color,
                        POQty: poQty,
                        BookingExfty: bookExfty,
                        POExfty: poExfty,
                        RevExfty: revExfty,
                        InitialPlaneDate: iniPlnDate,
                        Remarks: remarks,
                        CnclQty: CanQty,
                        CnclRemarks: CanRemarks
                    };
                    var urlpath = '@Url.Action("AddPo", "PartialView")';
                    $.ajax({
                        type: "POST",
                        url: urlpath,
                        contentType: "application/json;charset=utf-8",
                        data: JSON.stringify(obj),
                        success: function (result) {
                            debugger;
                            $('#poCodId').val("");
                            //$('#styleCode').val("");
                            $('#poNo').val("");
                            $('#color').val("");
                            $('#poQty').val("");
                            $('#bookExfty').val("");
                            $('#poExfty').val("");
                            $('#revExfty').val("");
                            $('#remarks').val("");
                            $('#CanQty').val("");
                            $('#CanRemarks').val("");
                            $('#initialPlannigDate').val("");

                            $('#PoAddEdit').modal('toggle');

                            $("#poListBody").html("");
                            $("#poListBody").html(result);


                        },

                        complete: function () {
                            debugger;
                            toastr.success(
                                'Save SuccessFull!',
                                'Yes',
                                {
                                    timeOut: 3000,
                                    fadeOut: 3000,
                                    onHidden: function () {
                                        // window.location.reload();
                                    }
                                }
                            );
                        },
                        error: function (errormessage) {
                            alert(errormessage.responseText);
                        }
                    });
                } else {
                    var obj = {
                        POCod: poCodeId,
                        stylecode: stlNo,
                        PONo: poNo,
                        POColor: color,
                        POQty: poQty,
                        BookingExfty: bookExfty,
                        POExfty: poExfty,
                        RevExfty: revExfty,
                        InitialPlaneDate: iniPlnDate,
                        Remarks: remarks,
                        CnclQty: CanQty,
                        CnclRemarks: CanRemarks
                    };
                    var urlpath = '@Url.Action("AddPo", "PartialView")';
                    $.ajax({
                        type: "POST",
                        url: urlpath,
                        contentType: "application/json;charset=utf-8",
                        data: JSON.stringify(obj),
                        success: function (result) {

                            if (result == "Session Out") {
                                toastr.error(
                                    'Session Out',
                                    'NO',
                                    {
                                        timeOut: 3000,
                                        fadeOut: 3000,
                                        onHidden: function () {
                                            window.location.reload();
                                        }
                                    }
                                );
                            }
                            else {

                                debugger;
                                $('#poCodId').val("");
                                // $('#styleCode').val("");
                                $('#poNo').val("");
                                $('#color').val("");
                                $('#poQty').val("");
                                $('#bookExfty').val("");
                                $('#poExfty').val("");
                                $('#revExfty').val("");
                                $('#remarks').val("");
                                $('#CanQty').val("");
                                $('#CanRemarks').val("");
                                $('#initialPlannigDate').val("");

                                $('#PoAddEdit').modal('toggle');
                                debugger;
                                toastr.success(
                                    'Edit SuccessFull!',
                                    'Yes',
                                    {
                                        timeOut: 3000,
                                        fadeOut: 3000,
                                        onHidden: function () {
                                            // window.location.reload();
                                        }
                                    }
                                );


                                $("#poListBody").html("");
                                $("#poListBody").html(result);

                            }


                        },

                        complete: function () {


                        },
                        error: function (errormessage) {
                            alert(errormessage.responseText);
                        }
                    });
                }


            }
        }

    function EditPo(poCod, event) {
        debugger;
        
        var poCod = poCod;
        var data = $(event).closest("tr").clone();
        var poNO = data.find('td:eq(1)').text().trim();
        var color = data.find('td:eq(2)').text().trim();
        var knQty = parseInt(data.find('td:eq(4)').text());
        var poQty = parseInt(data.find('td:eq(3)').text());
        var bookExfty = data.find('td:eq(5)').text().trim();
        var poExfty = data.find('td:eq(6)').text().trim();
        var revExfty = data.find('td:eq(7)').text().trim();
        var remarks = data.find('td:eq(9)').text().trim();
        var cancelQty = data.find('td:eq(10)').text().trim();
        var cancleremarks = data.find('td:eq(11)').text().trim();
        var initialPlanDate = data.find('td:eq(12)').text().trim();
        var bkex = moment(bookExfty).format('YYYY-MM-DD');
        var poex = moment(poExfty).format('YYYY-MM-DD');
        var revex = moment(revExfty).format('YYYY-MM-DD');
        var iniPlnDate = moment(initialPlanDate).format('YYYY-MM-DD');
        /*if (knQty > 0) {*/
            debugger;
        //    $('#PoAddEdit').modal({ backdrop: 'static', keyboard: false });

        //    $('#poCodIdk').val(poCod);
        //    $('#poNok').val(poNO);
        //    $('#colork').val(color);
        //    $('#poQtyk').val(poQty);
        //    $('#bookExftyk').val(bkex);
        //    $('#poExftyk').val(poex);
        //    $('#revExftyk').val(revex);
        //    $('#remarksk').val(remarks);
        //    $('#CanQtyk').val(cancelQty);
        //    $('#CanRemarksk').val(cancleremarks);
        //    $('#initialPlannigDatek').val(iniPlnDate);

        //} else {

        $('#PoAddEdit').modal({ backdrop: 'static', keyboard: false });

            $('#poCodId').val(poCod);
            $('#poNo').val(poNO);
            $('#color').val(color);
            $('#poQty').val(poQty);
            $('#bookExfty').val(bkex);
            $('#poExfty').val(poex);
            $('#revExfty').val(revex);
            $('#remarks').val(remarks);
            $('#CanQty').val(cancelQty);
            $('#CanRemarks').val(cancleremarks);
            $('#initialPlannigDate').val(iniPlnDate);
        //}
        
    }
    function Addpo() {
        $('#PoAddEdit').modal({ backdrop: 'static', keyboard: false });
    }
        function IndividualPoSplit(pocod, poQty, initialPlanDate) {
            $('#individualPo').modal();
            GetBrand('dllPoMcnType');
            GetGauge('dllPoGauge');
            GetKnOperation('dllOpType');
            debugger;
            $('#poQuantity').val(poQty);
            $('#poCode').val(pocod);
            $('#planDate').val(initialPlanDate);
        }

        function AddPoInTempList() {
            debugger;
            var gaugeid = $('#dllPoGauge').val();
            var brandid = $('#dllPoMcnType').val();
            var operationid = $('#dllOpType').val();
            var planDate = $('#planDate').val();
            var smv = isNaN(parseInt($('#smvValueF').val())) ? 0 : parseInt($('#smvValueF').val());
            var poQty = parseInt($('#poQuantity').val());
            var gaugeName = $("#dllPoGauge option:selected").text();
            var BrandName = $("#dllPoMcnType option:selected").text();
            var OperationName = $("#dllOpType option:selected").text();
            if (gaugeid == "" || brandid == "" || operationid == "" || smv == 0) {
                toastr.warning("Input All Data");
                return false;
            }

            var rowCountItem = parseInt($('#PoSplitTable tbody tr').length);
            var sl = rowCountItem + 1;
            var dtThreadPositionSize = $('#PoSplitTable');
            var tableBodyThreadPositionSize = dtThreadPositionSize.find('tbody');
            //tableBody.empty();

            tableBodyThreadPositionSize.append('<tr id="tr_' + sl + '">'

                + '<td style="display:none;"><input  style="width: 120px" type="text" class="gaugeCls"   value="' + gaugeid + '"  /></td>'
                + '<td style="display:none;"><input  style="width: 120px" type="text" class="brandCls"   value="' + brandid + '"  /></td>'
                + '<td style="display:none;"><input  style="width: 120px" type="text" class="operationCls"   value="' + operationid + '"/></td>'
                + '<td>' + sl+'</td>'
                + '<td>' + gaugeName+'</td>'
                + '<td>' + BrandName +'</td>'
                + '<td>' + OperationName +'</td>'
                + '<td class="smvCls" >' + smv +'</td>'
                + '<td class="poQtyCls" >' + poQty +'</td>'
                + '<td class="planDateCls" >' + planDate +'</td>'
                + '<td style="width: 50px"><button class="button btn-danger" style="float: left; border-radius: 50%;" onclick="DeleteRow(this)" > <span class=" fa fa-trash"></span></button> </td>'

                + '</tr>');
        }
         function SaveEachPoSplit() {

               var PoList = [];
               var pOCod;

             $('#PoSplitTable tbody tr').each(function (index) {

                       debugger;
                   pOCod = parseInt($(this).find('.gaugeCls').val());


                       PoList.push({
                           PoCod: parseInt($('#poCode').val()),
                           StlCod: parseInt(parseInt($('#styleCode').val())),
                           GaugeId: parseInt($(this).find('.gaugeCls').val()),
                           BrandId: parseInt($(this).find('.brandCls').val()),
                           PoQty: parseInt($(this).find('.poQtyCls').text()),
                           Smv: parseInt($(this).find('.smvCls').text()),
                           InitialPlaneDate: $(this).find('.planDateCls').text(),
                           KntOperationId: parseInt($(this).find('.operationCls').val())
                       });



               });
               debugger;


               if (PoList.length>0) {

                   $.ajax({
                       type: "POST",
                       url: apiHeader + 'api/PoSplit/AddPoSplit',
                       contentType: "application/json;charset=utf-8",
                       data: JSON.stringify(PoList),
                       success: function (result) {

                           if (result == true) {
                               toastr.success(
                                   'Save SuccessFull!',
                                   'Yes',
                                   {
                                       timeOut: 3000,
                                       fadeOut: 3000,
                                       onHidden: function () {
                                           window.location.reload();
                                       }
                                   }
                               );
                           } else {
                               toastr.warning('problems finding / Session End');
                           }

                       },

                       complete: function () {
                           // window.location.href = '@Url.Action("CreateSlot", "View")';

                       },
                       error: function (errormessage) {
                           alert(errormessage.responseText);
                       }
                   });
               }
               else {
                   toastr.warning('Select at Least One Po from Po List.');
                   return false;
               }
         }

        function UnlockStyle() {
            $('#viewStyle').modal({ backdrop: 'static', keyboard: false });


        }

    function CloseModal() {
        
        $('#poCodId').val("");
        //$('#styleCode').val("");
        $('#poNo').val("");
        $('#color').val("");
        $('#poQty').val("");
        $('#bookExfty').val("");
        $('#poExfty').val("");
        $('#revExfty').val("");
        $('#remarks').val("");
        $('#CanQty').val("");
        $('#CanRemarks').val("");
        $('#initialPlannigDate').val("");

        $('#PoAddEdit').modal('toggle');
        
    }

    function SaveUnlock() {
        debugger;
            var stlNo = parseInt($('#styleCode').val());
            var orderQty = parseInt($('#tOrderQty').val());
            var Unremarks = $('#unlockremarks').val();

            if (orderQty == 0) {
                toastr.warning("Please Give the Total Qty");
                return false;
            } else if (Unremarks==""){
                toastr.warning("Please Give the Unlock Remarks");
                return false;
            }

            else {

                 $.ajax({
                       type: "GET",
                     url: apiHeader + 'api/AddEditPo/StyleUnlock/' + stlNo + '/' + orderQty + '/' + Unremarks,
                       contentType: "application/json;charset=utf-8",
                       success: function (result) {

                           if (result == true) {
                               toastr.success(
                                   'Save SuccessFull!',
                                   'Yes',
                                   {
                                       timeOut: 3000,
                                       fadeOut: 3000,
                                       onHidden: function () {
                                           window.location.reload();
                                       }
                                   }
                               );
                           } else {
                               toastr.warning('problems finding / Session End');
                           }

                       },

                       complete: function () {
                           // window.location.href = '@Url.Action("CreateSlot", "View")';

                       },
                       error: function (errormessage) {
                           alert(errormessage.responseText);
                       }
                 });
            }

        }
    function FindStyleList() {
        var stlNo = $('#styleId').val();
        debugger
         var urlpath = '@Url.Action("StyleListForPoAdd", "PartialView")';
        $.ajax({
            url: urlpath,
            type: "GET",
            dataType: "html",
            async: false,
            data: { styleName: stlNo },
            success: function (result) {
                $('#SearchStyle').modal({ backdrop: 'static', keyboard: true })
                $('#StyleListDiv').html(result);
            },
            error: function (errormessage) {
                alert(errormessage.responseText);
            }
        });
        }

    function DeletePo(element) {
             var poCode = element;
        debugger
         var urlpath = '@Url.Action("DeleteMasterPo", "PartialView")';
        $.ajax({
            url: urlpath,
            type: "GET",
            dataType: "html",
            async: false,
            data: { poId: poCode },
            success: function (result) {
                //$('#SearchStyle').modal({ backdrop: 'static', keyboard: true })

                $("#poListBody").html("");
                $("#poListBody").html(result);
            }, complete: function () {
                debugger;
                toastr.success(
                    'Delete SuccessFull!',
                    'Yes',
                    {
                        timeOut: 3000,
                        fadeOut: 3000,
                        onHidden: function () {
                            // window.location.reload();
                        }
                    }
                );
            },
            error: function (errormessage) {
                alert(errormessage.responseText);
            }
        });
    }
</script>


}
